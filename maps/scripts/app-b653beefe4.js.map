{"version":3,"sources":["scripts/app.js"],"names":["angular","module","MainController","$http","wikiSearchService","activate","vm","this","articles","article","getArticles","searchString","clearSearch","searchWiki","$inject","controller","image","results","page","jsonp","success","data","query","pages","forEach","record","isUndefined","thumbnail","source","push","title","extract","url","pageid","length","service","factory","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","templateUrl","controllerAs","otherwise","config","$logProvider","$httpProvider","debugEnabled","defaults","useXDomain","withCredentials","headers","common","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,OAAQ,YAAa,YAAa,UAAW,aAAc,aAAc,SAAU,YAAa,eAAgB,gBAI5H,WACE,YAOA,SAASC,GAAeC,EAAOC,GAO7B,QAASC,MANT,GAAIC,GAAKC,IACTD,GAAGE,SAAWJ,EAAkBI,SAChCF,EAAGG,QAAUL,EAAkBK,QAE/BJ,IAMAC,EAAGI,YAAc,SAAUC,GACzBP,EAAkBQ,cAClBR,EAAkBS,WAAWF,IAlBjCT,EAAeY,SAAW,QAAS,qBAAnCd,QACGC,OAAO,OACPc,WAAW,iBAAkBb,MAqBlC,WACE,YAEAF,SACGC,OAAO,kBAGZ,WAEE,YAGA,SAASG,GAAkBD,GAkBzB,QAASU,GAAWF,GAClB,GAAIK,GAAQ,GACRC,KACAC,EAAO,kCACX,OAAOf,GAAMgB,MAAM,wMAA0MR,EAAe,2BACzOS,QAAQ,SAAUC,GACjBJ,EAAUI,EAAKC,MAAMC,MACrBvB,QAAQwB,QAAQP,EAAS,SAAUQ,GACjCT,EAAQhB,QAAQ0B,YAAYD,EAAOE,WAAa,KAAOF,EAAOE,UAAUC,OACxEpB,EAASqB,MACPC,MAAOL,EAAOK,MACdC,QAASN,EAAOM,QAChBC,IAAKd,EAAOO,EAAOQ,OACnBjB,MAAOA,QAMjB,QAASJ,KACPL,KAAKC,SAAS0B,OAAS,EArCzB,GAAIzB,IACFqB,MAAO,oBACPC,QAAS,GACTC,IAAK,GACLhB,MAAO,IAELR,KAEA2B,GACFtB,WAAYA,EACZD,YAAaA,EACbH,QAASA,EACTD,SAAUA,EAGZ,OAAO2B,GAlBT/B,EAAkBU,SAAW,SAD7Bd,QAAQC,OAAO,YACZmC,QAAQ,oBAAqBhC,MA8ClC,WACE,YAOA,SAASiC,GAASC,GAEhBA,EAAKC,MAAM,gBALbF,EAASvB,SAAW,QAFpBd,QACGC,OAAO,OACPuC,IAAIH,MAUT,WACE,YAOA,SAASI,GAAaC,EAAgBC,GACpCD,EACGE,MAAM,QACLZ,IAAK,IACLa,YAAa,qBACb9B,WAAY,iBACZ+B,aAAc,OAGlBH,EAAmBI,UAAU,KAX/BN,EAAa3B,SAAW,iBAAkB,sBAH1Cd,QACGC,OAAO,OACP+C,OAAOP,MAiBZ,WACE,YAEAzC,SACGC,OAAO,UAKZ,WACE,YAOA,SAAS+C,GAAOC,EAAcC,GAE5BD,EAAaE,cAAa,GAC1BD,EAAcE,SAASC,YAAa,EACpCH,EAAcE,SAASE,iBAAkB,QAClCJ,GAAcE,SAASG,QAAQC,OAAO,oBAC7CN,EAAcE,SAASG,QAAQC,OAAO,OAAY,mBAClDN,EAAcE,SAASG,QAAQC,OAAO,gBAAkB,mBAR1DR,EAAOlC,SAAW,eAAgB,iBAJlCd,QACGC,OAAO,OACP+C,OAAOA,MAgBZhD,QAAQC,OAAO,OAAOuC,KAAK,iBAAkB,SAASiB,GAAiBA,EAAeC,IAAI,qBAAqB","file":"scripts/app-b653beefe4.js","sourcesContent":["(function () {\n  'use strict';\n\n  angular\n    .module('app', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ui.router', 'ui.bootstrap', 'app.core']);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($http, wikiSearchService) {\n    var vm = this;\n    vm.articles = wikiSearchService.articles;\n    vm.article = wikiSearchService.article;\n\n    activate();\n\n    function activate() {\n\n    }\n\n    vm.getArticles = function (searchString) {\n      wikiSearchService.clearSearch();\n      wikiSearchService.searchWiki(searchString);\n    };\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app.core', []);\n})();\n\n(function () {\n  'use strict';\n  angular.module('app.core')\n    .factory('wikiSearchService', wikiSearchService);\n\n  function wikiSearchService($http) {\n    var article = {\n      title: 'this is a snippet',\n      extract: '',\n      url: '',\n      image: ''\n    }\n    var articles = [];\n\n    var service = {\n      searchWiki: searchWiki,\n      clearSearch: clearSearch,\n      article: article,\n      articles: articles\n    };\n\n    return service;\n\n    function searchWiki(searchString) {\n      var image = '';\n      var results = [];\n      var page = 'https://en.wikipedia.org/?curid=';\n      return $http.jsonp('https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=' + searchString + '&callback=JSON_CALLBACK')\n        .success(function (data) {\n          results = data.query.pages;\n          angular.forEach(results, function (record) {\n            image = angular.isUndefined(record.thumbnail) ? null : record.thumbnail.source;\n            articles.push({\n              title: record.title,\n              extract: record.extract,\n              url: page + record.pageid,\n              image: image\n            });\n          })\n        });\n    }\n\n    function clearSearch() {\n      this.articles.length = 0;\n    }\n\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('app')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, $httpProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n    $httpProvider.defaults.useXDomain = true;\n    $httpProvider.defaults.withCredentials = true;\n    delete $httpProvider.defaults.headers.common[\"X-Requested-With\"];\n    $httpProvider.defaults.headers.common[\"Accept\"] = \"application/json\";\n    $httpProvider.defaults.headers.common[\"Content-Type\"] = \"application/json\";\n\n  }\n\n})();\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=container><div class=\\\"row top-space\\\"><div><h1>Wikipedia Search App</h1></div><div class=\\\"container top-space\\\"><form name=myForm ng-submit=vm.getArticles(search)><div class=row><div class=col-sm-6><input name=search type=text class=\\\"form-control btn-circle\\\" ng-model=search required placeholder=\\\"Search Wikipedia for..\\\"></div><div class=col-sm-6><a href=https://en.wikipedia.org/wiki/Special:Random role=button class=\\\"btn btn-default btn-circle\\\">Random Article Please</a></div></div></form><div class=\\\"container top-space\\\"><div class=row ng-repeat=\\\"article in vm.articles track by $index \\\"><div class=bs-callout ng-class-even=\\\"\\'bs-callout-info\\'\\\" ng-class-odd=\\\"\\'bs-callout-success\\'\\\"><div class=row><div class=col-sm-8><h4><a href={{article.url}}>{{article.title}}</a></h4>{{article.extract}}</div><div class=col-sm-4><img ng-src={{article.image}} ng-alt={{article.title}}></div></div></div></div></div><p id=footer>Made with <span class=stylish>style</span> by <a href=http://ric.mclaughlin.today>Ric McLaughlin</a></p></div></div></div>\");}]);"],"sourceRoot":"/source/"}